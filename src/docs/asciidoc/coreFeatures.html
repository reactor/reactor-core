<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<meta name="author" content="The Reactor project main artifact is `reactor-core`, a reactive library that">
<title>Reactor Core Features</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body id="core-features" class="article">
<div id="header">
<h1>Reactor Core Features</h1>
<div class="details">
<span id="author" class="author">The Reactor project main artifact is `reactor-core`, a reactive library that</span><br>
<span id="revdate">focuses on the Reactive Streams specification and targets Java 8.</span>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Reactor introduces composable reactive types that implement <code>Publisher</code> but also
provide a rich vocabulary of operators, most notably <code>Flux</code> and <code>Mono</code>. A <code>Flux</code>
object represents a reactive sequence of 0..N items, while a <code>Mono</code> object
represents a single-valued-or-empty (0..1) result.</p>
</div>
<div class="paragraph">
<p>This distinction carries a bit of semantic information into the type, indicating
the rough cardinality of the asynchronous processing. For instance, an HTTP
request only produces one response, so there wouldn&#8217;t be much sense in doing a
<code>count</code> operation. Expressing the result of such an HTTP call as a
<code>Mono&lt;HttpResponse&gt;</code> thus makes more sense than expressing it as a
<code>Flux&lt;HttpResponse&gt;</code>, as it offers only operators that are relevant to a "zero
or one item" context.</p>
</div>
<div class="paragraph">
<p>Operators that change the maximum cardinality of the processing
will also switch to the relevant type. For instance, the <code>count</code> operator exists
in <code>Flux</code>, but returns a <code>Mono&lt;Long&gt;</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="flux"><code>Flux</code>, an Asynchronous Sequence of 0-n Items</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="https://raw.githubusercontent.com/reactor/reactor-core/v3.0.7.RELEASE/src/docs/marble/flux.png" alt="Flux">
</div>
</div>
<div class="paragraph">
<p>A <code>Flux&lt;T&gt;</code> is a standard <code>Publisher&lt;T&gt;</code> representing an asynchronous sequence
of 0 to N emitted items, optionally terminated by either a success signal or an
error. Thus, the possible values of a flux are a value, a success signal, or an
error. As in the Reactive Streams spec, these 3 types of signal translate to
calls to a downstream object&#8217;s <code>onNext</code>, <code>onComplete</code> or <code>onError</code> methods.</p>
</div>
<div class="paragraph">
<p>With this large scope of possible signals, <code>Flux</code> is the general-purpose
reactive type. Note that all events, even terminating ones, are optional: no
<code>onNext</code> event but an <code>onComplete</code> event represents an <em>empty</em> finite sequence,
but remove the <code>onComplete</code> and you have an <em>infinite</em> empty sequence.
Similarly, infinite sequences are not necessarily empty. For example,
<code>Flux.interval(Duration)</code> produces a <code>Flux&lt;Long&gt;</code> that is infinite and emits
regular ticks from a clock.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mono"><code>Mono</code>, an Asynchronous 0-1 Result</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="https://raw.githubusercontent.com/reactor/reactor-core/v3.0.7.RELEASE/src/docs/marble/mono.png" alt="Mono">
</div>
</div>
<div class="paragraph">
<p>A <code>Mono&lt;T&gt;</code> is a specialized <code>Publisher&lt;T&gt;</code> that emits at most one item then
optionally terminates with an <code>onComplete</code> signal or an <code>onError</code>.</p>
</div>
<div class="paragraph">
<p>As such it offers only a subset of the operators that are available for a
<code>Flux</code>. For instance, combination operators can either ignore the right
hand-side emissions and return another <code>Mono</code> or emit values from both sides,
in which case they&#8217;ll switch to a <code>Flux</code>.</p>
</div>
<div class="paragraph">
<p>Note that a <code>Mono</code> can be used to represent no-value asynchronous processes that
only have the concept of completion (think <code>Runnable</code>). To create one, use an
empty <code>Mono&lt;Void&gt;</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_simple_ways_to_create_a_flux_mono_and_to_subscribe_to_it">Simple ways to create a Flux/Mono and to subscribe to it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The easiest way to get started with <code>Flux</code> and <code>Mono</code> is to use one of the
numerous factory methods found in their respective classes.</p>
</div>
<div class="paragraph">
<p>For instance, to create a simple sequence of <code>String</code>, you can either enumerate
them or put them in a collection and create the Flux from it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; seq1 = Flux.just("foo", "bar", "foobar");

List&lt;String&gt; iterable = Arrays.asList("foo", "bar", "foobar");
Flux&lt;String&gt; seq2 = Flux.fromIterable(iterable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Other examples of factory methods include:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Mono&lt;String&gt; noData = Mono.empty(); <b class="conum">(1)</b>

Mono&lt;String&gt; data = Mono.just("foo");

Flux&lt;Integer&gt; numbersFromFiveToSeven = Flux.range(5, 3); <b class="conum">(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>notice the factory method honors the generic type even though there will be
no value</p>
</li>
<li>
<p>the subtlety is that the first parameter is the start of the range, while
the second parameter is the number of items to produce.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When it comes to subscribing, <code>Flux</code> and <code>Mono</code> make use of Java 8 lambdas. You
have a wide choice of <code>.subscribe()</code> variants that take lambdas for different
combinations of callbacks:</p>
</div>
<div id="subscribeMethods" class="listingblock">
<div class="title">Lambda-based subscribe variants for <code>Flux</code></div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">subscribe(); <b class="conum">(1)</b>

subscribe(Consumer&lt;? super T&gt; consumer); <b class="conum">(2)</b>

subscribe(Consumer&lt;? super T&gt; consumer,
          Consumer&lt;? super Throwable&gt; errorConsumer); <b class="conum">(3)</b>

subscribe(Consumer&lt;? super T&gt; consumer,
			    Consumer&lt;? super Throwable&gt; errorConsumer,
          Runnable completeConsumer); <b class="conum">(4)</b>

subscribe(Consumer&lt;? super T&gt; consumer,
			    Consumer&lt;? super Throwable&gt; errorConsumer,
          Runnable completeConsumer,
          Consumer&lt;? super Subscription&gt; subscriptionConsumer); <b class="conum">(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Subscribe and trigger the sequence.</p>
</li>
<li>
<p>Do something with each produced value.</p>
</li>
<li>
<p>Deal with values but also react to an error.</p>
</li>
<li>
<p>Deal with values and errors but also execute some code when the sequence
successfully completes.</p>
</li>
<li>
<p>Deal with values and errors and successful completion but also do something with
the <code>Subscription</code> produced by this <code>subscribe</code> call.</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
These variants return a reference to the subscription that one can use to
cancel said subscription when no more data is needed. Upon cancellation, the
source should stop producing values and clean up any resources it created. This
cancel and clean-up behavior is represented in Reactor by the general-purpose
<code>Disposable</code> interface.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>These are convenience variants over the Reactive Streams defined by <code>subscribe</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">subscribe(Subscriber&lt;? super T&gt; subscriber);</code></pre>
</div>
</div>
<div class="paragraph">
<p>That last variant is useful if you already have a <code>Subscriber</code> handy, but more
often you&#8217;ll need it because you want to do something subscription-related in
the other callbacks. Most probably, that&#8217;d be dealing with backpressure and
triggering the requests yourself.</p>
</div>
<div class="paragraph">
<p>In that case, you can make things easier by using the <code>BaseSubscriber</code> abstract
class, which offers convenience methods for that:</p>
</div>
<div class="listingblock">
<div class="title">Using a <code>BaseSubscriber</code> to fine tune backpressure</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; source = someStringSource();

source.map(String::toUpperCase)
      .subscribe(new BaseSubscriber&lt;String&gt;() { <b class="conum">(1)</b>
	      @Override
	      protected void hookOnSubscribe(Subscription subscription) {
		      <b class="conum">(2)</b>
		      request(1); <b class="conum">(3)</b>
	      }

	      @Override
	      protected void hookOnNext(String value) {
		      request(1); <b class="conum">(4)</b>
	      }

	      <b class="conum">(5)</b>
      });</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The <code>BaseSubscriber</code> is an abstract class, so we create an anonymous
implementation and specify the generic type.</p>
</li>
<li>
<p><code>BaseSubscriber</code> defines hooks for the various signal handling you can
implement in a <code>Subscriber</code>. It also deals with the boilerplate of capturing the
<code>Subscription</code> object so you can manipulate it in other hooks.</p>
</li>
<li>
<p><code>request(n)</code> is such a method. It propagates backpressure request to the
capture subscription from any of the hooks. Here we start the stream by
requesting 1 element from the source.</p>
</li>
<li>
<p>Upon receiving a new value, we continue requesting new items from the source
one by one.</p>
</li>
<li>
<p>Other hooks are <code>hookOnComplete</code>, <code>hookOnError</code>, <code>hookOnCancel</code>, and
<code>hookFinally</code> (which is always called when the sequence terminates, with the
type of termination passed in as a <code>SignalType</code> parameter).</p>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
When manipulating a request, you must be careful to produce enough
demand for the sequence to advance or your Flux will get "stuck". That is why
<code>BaseSubscriber</code> forces you to implement the subscription and <code>onNext</code> hooks,
where you should usually call <code>request</code> at least once.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>BaseSubscriber</code> also offers a <code>requestUnbounded()</code> method to switch to unbounded
mode (equivalent to <code>request(Long.MAX_VALUE)</code>.</p>
</div>
<div class="sect2">
<h3 id="producing">Programmatically creating a sequence</h3>
<div class="paragraph">
<p>In this section, we&#8217;ll introduce the creation of a <code>Flux</code> or a <code>Mono</code> by
programmatically defining its associated events (<code>onNext</code>, <code>onError</code>, and
<code>onComplete</code>). All these methods share the fact that they expose an API to
trigger the events that we call a <strong>sink</strong>. There are actually a few sink
variants, as you will soon see.</p>
</div>
<div class="sect3">
<h4 id="producing.generate">Generate</h4>
<div class="paragraph">
<p>The simplest form of programmatic creation of a <code>Flux</code> is through the <code>generate</code>
method, which takes a generator function.</p>
</div>
<div class="paragraph">
<p>This is for <strong>synchronous</strong> and <strong>one-by-one</strong> emissions, meaning that
the sink is a <code>SynchronousSink</code> and that its <code>next()</code> method can only be called
at most once per callback invocation. You can then additionally call <code>error(Throwable)</code>
or <code>complete()</code>.</p>
</div>
<div class="paragraph">
<p>The most useful variant is probably the one that also lets you keep a state
that you can refer to in your sink usage to decide what to emit next. The generator
function then becomes a <code>BiFunction&lt;S, SynchronousSink&lt;T&gt;, S&gt;</code>, with <code>&lt;S&gt;</code> the
type of the state object. You have to provide a <code>Supplier&lt;S&gt;</code> for the initial
state, and your generator function now returns a new state on each round.</p>
</div>
<div class="paragraph">
<p>For instance, you could use an <code>int</code> as the state:</p>
</div>
<div class="listingblock">
<div class="title">Example of state-based <code>generate</code></div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; flux = Flux.generate(
    () -&gt; 0, <b class="conum">(1)</b>
    (state, sink) -&gt; {
      sink.next("3 x " + state + " = " + 3*state); <b class="conum">(2)</b>
      if (state == 10) sink.complete(); <b class="conum">(3)</b>
      return state + 1; <b class="conum">(4)</b>
    });</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>we supply the initial state value of 0</p>
</li>
<li>
<p>we use the state to choose what to emit (a row in the multiplication table of 3)</p>
</li>
<li>
<p>we also use it to choose when to stop (multiplication tables traditionally stop at times ten)</p>
</li>
<li>
<p>we return a new state that will be used in next invocation (unless the sequence terminated in this one)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The code above generates the table of 3, as the following sequence:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>3 x 0 = 0
3 x 1 = 3
3 x 2 = 6
3 x 3 = 9
3 x 4 = 12
3 x 5 = 15
3 x 6 = 18
3 x 7 = 21
3 x 8 = 24
3 x 9 = 27
3 x 10 = 30</pre>
</div>
</div>
<div class="paragraph">
<p>You can also use a mutable <code>&lt;S&gt;</code>. The example above could for instance be rewritten
using a single <code>AtomicLong</code> as the state, mutating it on each round:</p>
</div>
<div class="listingblock">
<div class="title">Mutable state variant</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; flux = Flux.generate(
    AtomicLong::new, <b class="conum">(1)</b>
    (state, sink) -&gt; {
      long i = state.getAndIncrement(); <b class="conum">(2)</b>
      sink.next("3 x " + i + " = " + 3*i);
      if (i == 10) sink.complete();
      return state; <b class="conum">(3)</b>
    });</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>this time we generate a mutable object as the state</p>
</li>
<li>
<p>we mutate the state here</p>
</li>
<li>
<p>we return the <strong>same</strong> instance as the new state</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
If your state object needs to clean up some resources, use the
<code>generate(Supplier&lt;S&gt;, BiFunction, Consumer&lt;S&gt;)</code> variant to clean up the last
state instance.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="producing.create">Create</h4>
<div class="paragraph">
<p>The more advanced form of programmatic creation of a <code>Flux</code>, <code>create</code> can work
asynchronously or synchronously and is suitable for multiple emissions per
round.</p>
</div>
<div class="paragraph">
<p>It exposes a <code>FluxSink</code>, with its <code>next</code>, <code>error</code>, and <code>complete</code> methods.
Contrary to <code>generate</code>, it doesn&#8217;t have a state-based variant. On the other
hand, it can trigger multiple events in the callback (and even from any thread
at a later point in time).</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<code>create</code> can be very useful to bridge an existing API with the reactive
world - such as an asynchronous API based on listeners.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Imagine that you use a listener-based API. It processes data by chunks
and has two events: (1) a chunk of data is ready and (2) the processing is
complete (terminal event), as represented in the <code>MyEventListener</code> interface:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">interface MyEventListener&lt;T&gt; {
    void onDataChunk(List&lt;T&gt; chunk);
    void processComplete();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use <code>create</code> to bridge this into a <code>Flux&lt;T&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; bridge = Flux.create(sink -&gt; {
    myEventProcessor.register( <b class="conum">(4)</b>
      new MyEventListener&lt;String&gt;() { <b class="conum">(1)</b>

        public void onDataChunk(List&lt;String&gt; chunk) {
          for(String s : chunk) {
            sink.next(s); <b class="conum">(2)</b>
          }
        }

        public void processComplete() {
            sink.complete(); <b class="conum">(3)</b>
        }
    });
});</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Bridge to the <code>MyEventListener</code> API</p>
</li>
<li>
<p>Each element in a chunk becomes an element in the <code>Flux</code>.</p>
</li>
<li>
<p>The <code>processComplete</code> event is translated to <code>onComplete</code>.</p>
</li>
<li>
<p>All of this is done asynchronously whenever the <code>myEventProcessor</code> executes.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Additionally, since <code>create</code> can be asynchronous and manages backpressure, you
can refine how to behave backpressure-wise, by indicating an <code>OverflowStrategy</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>IGNORE</code> to Completely ignore downstream backpressure requests.
This may yield <code>IllegalStateException</code> when queues get full downstream.</p>
</li>
<li>
<p><code>ERROR</code> to signal an <code>IllegalStateException</code> when the downstream can&#8217;t keep
up.</p>
</li>
<li>
<p><code>DROP</code> to drop the incoming signal if the downstream is not ready to receive
it.</p>
</li>
<li>
<p><code>LATEST</code> to let downstream only get the latest signals from upstream.</p>
</li>
<li>
<p><code>BUFFER</code> (the default) to buffer all signals if the downstream can&#8217;t keep up.
(this does unbounded buffering and may lead to <code>OutOfMemoryError</code>).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>Mono</code> also has a <code>create</code> generator. The <code>MonoSink</code> of Mono&#8217;s create
doesn&#8217;t allow several emissions. It will drop all signals after the first one.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_push_model">Push model</h5>
<div class="paragraph">
<p>A variant of <code>create</code> is <code>push</code>, which is suitable for processing events
from a single producer. Similar to <code>create</code>, <code>push</code> can also be asynchronous
and can manage backpressure using any of the overflow strategies supported
by <code>create</code>. Only one producing thread may invoke <code>next</code>, <code>complete</code> or
<code>error</code> at a time.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; bridge = Flux.push(sink -&gt; {
    myEventProcessor.register(
      new SingleThreadEventListener&lt;String&gt;() { <b class="conum">(1)</b>

        public void onDataChunk(List&lt;String&gt; chunk) {
          for(String s : chunk) {
            sink.next(s); <b class="conum">(2)</b>
          }
        }

        public void processComplete() {
            sink.complete(); <b class="conum">(3)</b>
        }

        public void processError(Throwable e) {
            sink.error(e); <b class="conum">(4)</b>
        }
    });
});</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Bridge to the <code>SingleThreadEventListener</code> API.</p>
</li>
<li>
<p>Events are pushed to the sink using <code>next</code> from a single listener thread.</p>
</li>
<li>
<p><code>complete</code> event generated from the same listener thread.</p>
</li>
<li>
<p><code>error</code> event also generated from the same listener thread.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_hybrid_push_pull_model">Hybrid push/pull model</h5>
<div class="paragraph">
<p>Unlike <code>push</code>, <code>create</code> may be used in <code>push</code> or <code>pull</code> mode, making it suitable
for bridging with listener-based APIs where data may be delivered asynchronously
at any time. An <code>onRequest</code> callback can be registered on <code>FluxSink</code> to track
requests. The callback may be used to request more data from the source if
required and to manage backpressure by delivering data to sink only when
requests are pending. This enables a hybrid push/pull model where downstream can
pull data that is already available from upstream and upstream can push data to
downstream when data becomes available at a later time.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; bridge = Flux.create(sink -&gt; {
    myMessageProcessor.register(
      new MyMessageListener&lt;String&gt;() {

        public void onMessage(List&lt;String&gt; messages) {
          for(String s : messages) {
            sink.next(s); <b class="conum">(3)</b>
          }
        }
    });
    sink.onRequest(n -&gt; {
        List&lt;String&gt; messages = myMessageProcessor.request(n); <b class="conum">(1)</b>
        for(String s : message) {
           sink.next(s); <b class="conum">(2)</b>
        }
    });</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Poll for messages when requests are made.</p>
</li>
<li>
<p>If messages are available immediately, push them to sink.</p>
</li>
<li>
<p>Remaining messages that arrive asynchronously later are also delivered.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_cleaning_up">Cleaning up</h5>
<div class="paragraph">
<p>Two callbacks, <code>onDispose</code> and <code>onCancel</code>, are provided to perform any cleanup
on cancellation or termination. <code>onDispose</code> can be used to perform cleanup
when the <code>Flux</code> completes, errors out, or is cancelled. 'onCancel can be
used to perform any action specific to cancellation prior to cleanup using
<code>onDispose</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; bridge = Flux.create(sink -&gt; {
    sink.onRequest(n -&gt; channel.poll(n))
        .onCancel(() -&gt; channel.cancel()) <b class="conum">(1)</b>
        .onDipose(() -&gt; channel.close())  <b class="conum">(2)</b>
    });</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><code>onCancel</code> is invoked for cancel signal.</p>
</li>
<li>
<p><code>onDispose</code> is invoked for complete, error, or cancel.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_handle">Handle</h4>
<div class="paragraph">
<p>Present in both <code>Mono</code> and <code>Flux</code>, <code>handle</code> is a bit different. It is an
instance method, meaning that it is chained on an existing source (as are the
common operators).</p>
</div>
<div class="paragraph">
<p>It is close to <code>generate</code>, in the sense that it uses a <code>SynchronousSink</code> and
only allows one-by-one emissions. However, <code>handle</code> can be used to generate an
arbitrary value out of each source element, possibly skipping some elements. In
this way, it can serve as a combination of <code>map</code> and <code>filter</code>. The signature of
handle is</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">handle(BiConsumer&lt;T, SynchronousSink&lt;R&gt;&gt;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s consider an example. The reactive streams specification disallows <code>null</code>
values in a sequence. What if you want to perform a <code>map</code> but you want to use
a preexisting method as the map function, and that method sometimes returns null?</p>
</div>
<div class="paragraph">
<p>For instance, the following method can be applied safely to a source of
integers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public String alphabet(int letterNumber) {
	if (letterNumber &lt; 1 || letterNumber &gt; 26) {
		return null;
	}
	int letterIndexAscii = 'A' + letterNumber - 1;
	return "" + (char) letterIndexAscii;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can then use <code>handle</code> to remove any nulls:</p>
</div>
<div class="listingblock">
<div class="title">Using <code>handle</code> for a "map and eliminate nulls" scenario</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; alphabet = Flux.just(-1, 30, 13, 9, 20)
    .handle((i, sink) -&gt; {
        String letter = alphabet(i); <b class="conum">(1)</b>
        if (letter != null) <b class="conum">(2)</b>
            sink.next(letter); <b class="conum">(3)</b>
    });

alphabet.subscribe(System.out::println);</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Map to letters.</p>
</li>
<li>
<p>If the "map function" returns null&#8230;&#8203;.</p>
</li>
<li>
<p>Filter it out by not calling <code>sink.next</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Which will print out:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>M
I
T</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="schedulers"><code>Schedulers</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Reactor, like RxJava, can be considered <strong>concurrency agnostic</strong>. It doesn&#8217;t
enforce a concurrency model but rather leaves you, the developer, in command.
However, that doesn&#8217;t prevent the library from helping you with concurrency.</p>
</div>
<div class="paragraph">
<p>In Reactor, the execution model and where the execution happens is determined by
the <code>Scheduler</code> that is used. A
<a href="https://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Scheduler.html"><code>Scheduler</code></a>
is an interface that can abstract a wide range of implementations. The
<a href="https://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Schedulers.html"><code>Schedulers</code></a>
class has static methods that give access to the following execution contexts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the current thread (<code>Schedulers.immediate()</code>)</p>
</li>
<li>
<p>a single, reusable thread (<code>Schedulers.single()</code>). Note that this method
reuses the same thread for all callers, until the Scheduler is disposed. If you
want a per-call dedicated thread, use <code>Schedulers.newSingle()</code> for each call.</p>
</li>
<li>
<p>an elastic thread pool (<code>Schedulers.elastic()</code>). It will create new worker
pools as needed, and reuse idle ones. Worker pools that stay idle for too long
(default is 60s) are disposed. This is a good choice for I/O blocking work for
instance.</p>
</li>
<li>
<p>a fixed pool of workers that is tuned for parallel work
(<code>Schedulers.parallel()</code>). It will create as many workers as you have CPU cores.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, you can create a <code>Scheduler</code> out of any pre-existing
<code>ExecutorService</code> using <code>Schedulers.fromExecutorService(ExecutorService)</code>. (You
can also create one from an <code>Executor</code>, although doing so is discouraged.)
You can also create new instances of the various scheduler types using <code>newXXX</code>
methods. For example, <code>Schedulers.newElastic(yourScheduleName)</code> creates a new
elastic scheduler named <code>yourScheduleName</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Operators are implemented using non-blocking algorithms tuned to
facilitate the work stealing that can happen in some Schedulers.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Some operators use a specific Scheduler from <code>Schedulers</code> by default (and will
usually give you the option of providing a different one). For instance, calling
the factory method <code>Flux.interval(Duration.ofMillis(300))</code> will produces a <code>Flux&lt;Long&gt;</code>
that ticks every 300ms. This is enabled by <code>Schedulers.parallel()</code> by default.</p>
</div>
<div class="paragraph">
<p>Reactor offers two means of switching the execution context (or <code>Scheduler</code>) in
a reactive chain: <code>publishOn</code> and <code>subscribeOn</code>. Both take a <code>Scheduler</code> and
let you switch the execution context to that scheduler. But <code>publishOn</code>
placement in the chain matters, while `subscribeOn&#8217;s doesn&#8217;t. To understand
that difference, you first have to remember that <a href="#reactive.subscribe">[reactive.subscribe]</a>[nothing
happens until you subscribe()].</p>
</div>
<div class="paragraph">
<p>In Reactor, when you chain operators you wrap as many <code>Flux</code>/<code>Mono</code> specific
implementations inside one another. And as soon as you subscribe, a chain of
<code>Subscriber</code> is created backward. This is effectively hidden from you and all
you can see is the outer layer of <code>Flux</code> (or <code>Mono</code>) and <code>Subscription</code>, but
these intermediate operator-specific subscribers are where the real work happens.</p>
</div>
<div class="paragraph">
<p>With that knowledge, let&#8217;s have a closer look at the two operators:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>publishOn</code> applies as any other operator, in the middle of that subscriber
chain. As such, it takes signals from downstream and replays them upstream, but
executing the callback on a worker from the associated <code>Scheduler</code>. So it
<strong>affects where the subsequent operators will execute</strong> (until another publishOn
is chained in).</p>
</li>
<li>
<p><code>subscribeOn</code> rather applies to the subscription process, when that backward
chain is constructed. As a consequence, no matter where you place the
<code>subscribeOn</code> in the chain, <strong>it is always the context of the source emission</strong>
that is affected. However, this doesn&#8217;t affect the behavior of subsequent calls
to <code>publishOn</code>: they will still switch the execution context for the part of the
chain after them. Also, only the earliest <code>subscribeOn</code> call in the chain is
actually taken into account.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="error.handling">Handling Errors</h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
For a quick look at the available operators for error handling, see
<a href="#which.errors">the relevant operator decision tree</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In Reactive Streams, errors are terminal events. As soon as an error occurs, it
stop the sequence and gets propagated down the chain of operators to the last
step, the <code>Subscriber</code> you defined and its <code>onError</code> method.</p>
</div>
<div class="paragraph">
<p>Such errors should still be dealt with at the application level, for instance
by displaying an error notification in a UI, or sending a meaningful error
payload in a REST endpoint, so the subscriber&#8217;s <code>onError</code> method should always
be defined.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
If not defined, <code>onError</code> will throw an <code>UnsupportedOperationException</code>.
You can further detect and triage it by the <code>Exceptions.isErrorCallbackNotImplemented</code>
method.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>But Reactor also offers alternative means of dealing with errors in the middle
of the chain, as error-handling operators.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Before you learn about error-handling operators, you must keep in
mind that <strong>any error in a reactive sequence is a terminal event</strong>. Even if an
error-handling operator is used, it doesn&#8217;t allow the <strong>original</strong> sequence to
continue, but rather converts the <code>onError</code> signal into the start of a <strong>new</strong>
sequence (the fallback one). As such it replaces the terminated sequence
<em>upstream</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s go through each mean of error handling one-by-one. When relevant we&#8217;ll
make a parallel with imperative world&#8217;s <code>try</code> patterns.</p>
</div>
<div class="sect2">
<h3 id="_error_handling_operators">Error handling operators</h3>
<div class="paragraph">
<p>You may be familiar with several ways of dealing with exceptions in a try/catch
block. Most notably:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>catch and return a static default value</p>
</li>
<li>
<p>catch and execute an alternative path (fallback method)</p>
</li>
<li>
<p>catch and dynamically compute a fallback value</p>
</li>
<li>
<p>catch, wrap to a <code>BusinessException</code> and re-throw</p>
</li>
<li>
<p>catch, log an error specific message and re-throw</p>
</li>
<li>
<p>the <code>finally</code> block to clean up resources, or a Java 7&#8217;s "try-with-resource" construct</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>All of these have equivalent in Reactor, in the form of error handling operators.</p>
</div>
<div class="paragraph">
<p>Before looking into these operators, let&#8217;s first try to establish a parallel between a
reactive chain and a try-catch block.</p>
</div>
<div class="paragraph">
<p>When subscribing, the <code>onError</code> callback at the end of the chain is akin to a <code>catch</code>
block. There, execution skips to the catch in case an Exception is thrown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; s = Flux.range(1, 10)
    .map(v -&gt; doSomethingDangerous(v)) <b class="conum">(1)</b>
    .map(v -&gt; doSecondTransform(v)); <b class="conum">(2)</b>
s.subscribe(value -&gt; System.out.println("RECEIVED " + value), <b class="conum">(3)</b>
    error -&gt; System.err.println("CAUGHT " + error) <b class="conum">(4)</b>
);</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>a transformation is performed that can throw an exception.</p>
</li>
<li>
<p>if everything went well, a second transformation is performed.</p>
</li>
<li>
<p>each successfully transformed value is printed out.</p>
</li>
<li>
<p>in case of an error, the sequence terminates and an error message is displayed.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This is conceptually similar to the following try/catch block:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">try {
  for (int i = 1; i &lt; 11; i++) {
    String v1 = doSomethingDangerous(i); <b class="conum">(1)</b>
    String v2 = doSecondTransform(v1); <b class="conum">(2)</b>
    System.out.println("RECEIVED " + v2);
  }
} catch (Throwable t) {
  System.err.println("CAUGHT " + t); <b class="conum">(3)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>if an exception is thrown here&#8230;&#8203;</p>
</li>
<li>
<p>&#8230;&#8203;the rest of the loops is skipped&#8230;&#8203;</p>
</li>
<li>
<p>&#8230;&#8203;and the execution goes straight to here.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now that we&#8217;ve established a parallel, we&#8217;ll look at the different error handling
cases and their equivalent operators.</p>
</div>
<div class="sect3">
<h4 id="_static_fallback_value">Static fallback value</h4>
<div class="paragraph">
<p>The equivalent of <strong>(1)</strong> is <code>onErrorReturn</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux.just(10)
    .map(this::doSomethingDangerous)
    .onErrorReturn("RECOVERED");</code></pre>
</div>
</div>
<div class="paragraph">
<p>You also have the option of filtering when to recover with a default value vs
letting the error propagate, depending on the exception that occurred:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux.just(10)
    .map(this::doSomethingDangerous)
    .onErrorReturn(e -&gt; e.getMessage().equals("boom10"), "recovered10");</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_fallback_method">Fallback method</h4>
<div class="paragraph">
<p>If you want more than a single default value and you have an alternative safer
way of processing your data, you can use <code>onErrorResume</code>. This would be the
equivalent of <strong>(2)</strong>.</p>
</div>
<div class="paragraph">
<p>For example, if your nominal process is fetching data from an external
unreliable service, but you also keep a local cache of the same data that <em>can</em>
be a bit more out of date but is more reliable, you could do the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux.just("key1", "key2")
    .flatMap(k -&gt;
        callExternalService(k) <b class="conum">(1)</b>
          .onErrorResume(e -&gt; getFromCache(k)) <b class="conum">(2)</b>
    );</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>for each key, we asynchronously call the external service.</p>
</li>
<li>
<p>if the external service call fails, we fallback to the cache for that key. Note we
always apply the same fallback, whatever the source error <code>e</code> is.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Like <code>onErrorReturn</code>, <code>onErrorResume</code> has variants that let you filter which exceptions
to fallback on, based either on the exception&#8217;s class or a <code>Predicate</code>. The fact that it
takes a <code>Function</code> also allows you to choose a different fallback sequence to switch to,
depending on the error encountered:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux.just("timeout1", "unknown", "key2")
    .flatMap(k -&gt;
        callExternalService(k)
          .onErrorResume(error -&gt; { <b class="conum">(1)</b>
            if (error instanceof TimeoutException) <b class="conum">(2)</b>
              return getFromCache(k);
            else if (error instanceof UnknownKeyException)  <b class="conum">(3)</b>
              return registerNewEntry(k, "DEFAULT");
            else
              return Flux.error(error); <b class="conum">(4)</b>
          })
    );</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The function allows to dynamically choose how to continue.</p>
</li>
<li>
<p>If the source times out, let&#8217;s hit the local cache.</p>
</li>
<li>
<p>If the source says the key is unknown, let&#8217;s create a new entry.</p>
</li>
<li>
<p>In all other cases, "re-throw".</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dynamic_fallback_value">Dynamic fallback value</h3>
<div class="paragraph">
<p>Even if you don&#8217;t have an alternative safer way of processing your data, you might want
to compute a fallback value out of the exception you received (<strong>(3)</strong>).</p>
</div>
<div class="paragraph">
<p>For instance, if your return type has a variant dedicated to holding an exception
(think <code>Future.complete(T success)</code> vs <code>Future.completeExceptionally(Throwable error)</code>),
you could simply instantiate the error-holding variant and pass the exception.</p>
</div>
<div class="paragraph">
<p>This can be done in the same way than the fallback method solution, using <code>onErrorResume</code>.
You just need a tiny bit of boilerplate:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">erroringFlux.onErrorResume(error -&gt; Mono.just( <b class="conum">(1)</b>
	myWrapper.fromError(error) <b class="conum">(2)</b>
));</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The boilerplate secret sauce is to use <code>Mono.just</code> with <code>onErrorResume</code></p>
</li>
<li>
<p>You then wrap the exception into the adhoc class, or otherwise compute the value out of the exception&#8230;&#8203;</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_catch_and_rethrow">Catch and rethrow</h4>
<div class="paragraph">
<p>Back in the "fallback method" example, the last line inside the <code>flatMap</code> gives us an hint
as to how item <strong>(4)</strong> (catch wrap and rethrow) could be achieved:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux.just("timeout1")
    .flatMap(k -&gt; callExternalService(k)
        .onErrorResume(original -&gt; Flux.error(
            new BusinessException("oops, SLA exceeded", original))
        )
    );</code></pre>
</div>
</div>
<div class="paragraph">
<p>But actually, there is a more straightforward way of achieving the same with <code>onErrorMap</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux.just("timeout1")
    .flatMap(k -&gt; callExternalService(k)
		    .onErrorMap(original -&gt; new BusinessException("oops, SLA exceeded", original))
    );</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_log_or_react_on_the_side">Log or react on the side</h4>
<div class="paragraph">
<p>For cases where you want the error to continue propagating, but you still want
to react to it without modifying the sequence (for instance logging it like in
item <strong>(5)</strong>), there is the <code>doOnError</code> operator. This operator as well as all
<code>doOn</code> prefixed operators are sometimes referred to as a "side-effect". That is
because they allow to peek inside the sequence&#8217;s events without modifying them.</p>
</div>
<div class="paragraph">
<p>The example below makes use of that to ensure that when we fallback to the cache,
we at least log that the external service had a failure. We could also imagine
we have statistic counters to increment as an error side-effect&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">LongAdder failureStat = new LongAdder();
Flux&lt;String&gt; flux =
Flux.just("unknown")
    .flatMap(k -&gt; callExternalService(k) <b class="conum">(1)</b>
		    .doOnError(e -&gt; {
		    	failureStat.increment();
		    	log("uh oh, falling back, service failed for key " + k); <b class="conum">(2)</b>
		    })
        .onErrorResume(e -&gt; getFromCache(k)) <b class="conum">(3)</b>
    );</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>the external service call that can fail&#8230;&#8203;</p>
</li>
<li>
<p>is decorated with a logging side-effect&#8230;&#8203;</p>
</li>
<li>
<p>and then protected with the cache fallback.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_using_resources_and_the_finally_block">Using resources and the finally block</h4>
<div class="paragraph">
<p>The last parallel to draw with the imperative world is the cleaning up that can
be done either via a Java 7 "try-with-resources" construct or the use of the
<code>finally</code> block (<strong>(6)</strong>). Both have their Reactor equivalent, actually: <code>using</code>
and <code>doFinally</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">AtomicBoolean isDisposed = new AtomicBoolean();
Disposable disposableInstance = new Disposable() {
	@Override
	public void dispose() {
		isDisposed.set(true); <b class="conum">(4)</b>
	}

	@Override
	public String toString() {
		return "DISPOSABLE";
	}
};

Flux&lt;String&gt; flux =
Flux.using(
		() -&gt; disposableInstance, <b class="conum">(1)</b>
		disposable -&gt; Flux.just(disposable.toString()), <b class="conum">(2)</b>
		Disposable::dispose <b class="conum">(3)</b>
);</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The first lambda generates the resource. Here we return our mock <code>Disposable</code>.</p>
</li>
<li>
<p>The second lambda processes the resource, returning a <code>Flux&lt;T&gt;</code>.</p>
</li>
<li>
<p>The third lambda is called when the flux from 2) terminates or is cancelled, to clean up resources.</p>
</li>
<li>
<p>After subscription and execution of the sequence, the <code>isDisposed</code> atomic boolean would become <code>true</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>On the other hand, <code>doFinally</code> is about side-effects that you want to be executed
whenever the sequence terminates, either with onComplete, onError or a cancel.
It gives you a hint as to what kind of termination triggered the side-effect:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">LongAdder statsCancel = new LongAdder(); <b class="conum">(1)</b>

Flux&lt;String&gt; flux =
Flux.just("foo", "bar")
    .doFinally(type -&gt; {
      if (type == SignalType.CANCEL) <b class="conum">(2)</b>
        statsCancel.increment(); <b class="conum">(3)</b>
    })
    .take(1); <b class="conum">(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>We assume we want to gather statistics, here we use a <code>LongAdder</code>.</p>
</li>
<li>
<p><code>doFinally</code> consumes a <code>SignalType</code> for the type of termination.</p>
</li>
<li>
<p>Here we increment statistics in case of cancellation only.</p>
</li>
<li>
<p><code>take(1)</code> will cancel after 1 item is emitted.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_demonstrating_the_terminal_aspect_of_code_onerror_code">Demonstrating the terminal aspect of <code>onError</code></h4>
<div class="paragraph">
<p>In order to demonstrate that all these operators cause the upstream
original sequence to terminate when the error happens, let&#8217;s take a more visual
example with a <code>Flux.interval</code>. The interval operator ticks every x units of time
with an increasing <code>Long</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; flux =
Flux.interval(Duration.ofMillis(250))
    .map(input -&gt; {
	    if (input &lt; 3) return "tick " + input;
	    throw new RuntimeException("boom");
    })
    .onErrorReturn("Uh oh");

flux.subscribe(System.out::println);
Thread.sleep(2100); <b class="conum">(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Note that <code>interval</code> executes on the <strong>timer</strong> <code>Scheduler</code> by default.
Assuming we&#8217;d want to run that example in a main class, we add a sleep here so
that the application doesn&#8217;t exit immediately without any value being produced.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This prints out, one line every 250ms:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>tick 0
tick 1
tick 2
Uh oh</pre>
</div>
</div>
<div class="paragraph">
<p>Even with one extra second of runtime, no more tick comes in from the <code>interval</code>.
The sequence was indeed terminated by the error.</p>
</div>
</div>
<div class="sect3">
<h4 id="_retrying">Retrying</h4>
<div class="paragraph">
<p>There is another operator of interest with regards to error handling, and you
might be tempted to use it in the case above. <code>retry</code>, as its name indicates,
allows to retry an erroring sequence.</p>
</div>
<div class="paragraph">
<p>But the caveat is that it works by <strong>re-subscribing</strong> to the upstream <code>Flux</code>. So
this is still in effect a different sequence, and the original one is still
terminated. To verify that, we can re-use the previous example and append a
<code>retry(1)</code> to retry once instead of the onErrorReturn:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux.interval(Duration.ofMillis(250))
    .map(input -&gt; {
        if (input &lt; 3) return "tick " + input;
        throw new RuntimeException("boom");
    })
    .elapsed() <b class="conum">(1)</b>
    .retry(1)
    .subscribe(System.out::println,
      System.err::println); <b class="conum">(2)</b>

Thread.sleep(2100); <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><code>elapsed</code> will associate each value with the duration since previous value
was emitted.</p>
</li>
<li>
<p>We also want to see when there is an <code>onError</code></p>
</li>
<li>
<p>We have enough time for our 4x2 ticks</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This prints out:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>259,tick 0
249,tick 1
251,tick 2
506,tick 0 <b class="conum">(1)</b>
248,tick 1
253,tick 2
java.lang.RuntimeException: boom</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Here a new <code>interval</code> started, from tick 0. The additional 250ms duration is
coming from the 4th tick, the one that causes the exception and subsequent retry</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>As you can see above, <code>retry(1)</code> merely re-subscribed to the original <code>interval</code>
once, restarting the tick from 0. The second time around, since the exception
still occurs, it gives up and propagate it downstream.</p>
</div>
<div class="paragraph">
<p>There is a more advanced version of <code>retry</code> that uses a "companion" flux to tell
whether or not a particular failure should retry: <code>retryWhen</code>. This companion
flux is created by the operator but decorated by the user, in order to customize
the retry condition.</p>
</div>
<div class="paragraph">
<p>The companion flux is a <code>Flux&lt;Throwable&gt;</code> that gets passed to a <code>Function</code>, the
sole parameter of retryWhen. As the user, you define that function and make it
return a new <code>Publisher&lt;?&gt;</code>. Retry cycles will go like this:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>each time an error happens (potential for a retry), the error is emitted into
the companion flux. That flux has been originally decorated by your function.</p>
</li>
<li>
<p>If the companion flux emits something, a retry happens.</p>
</li>
<li>
<p>If the companion flux completes, the retry cycle stops and the original
sequence <strong>completes</strong> too.</p>
</li>
<li>
<p>If the companion flux errors, the retry cycle stops and the original
sequence <strong>stops</strong> too. or completes, the error causes the original
sequence to fail and terminate.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The distinction between the last two cases is important. Simply completing the
companion would effectively swallow an error. Consider the following attempt
at emulating <code>retry(3)</code> using <code>retryWhen</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; flux =
Flux.&lt;String&gt;error(new IllegalArgumentException()) <b class="conum">(1)</b>
    .doOnError(System.out::println) <b class="conum">(2)</b>
    .retryWhen(companion -&gt; companion.take(3)); <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>This continuously errors, calling for retry attempts</p>
</li>
<li>
<p><code>doOnError</code> <strong>before</strong> the retry will let us see all failures</p>
</li>
<li>
<p>Here we just consider the first 3 errors as retry-able (<code>take(3)</code>), then give up.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In effect, this results in an <strong>empty</strong> flux, but that completes <strong>successfully</strong>.
Since <code>retry(3)</code> on the same flux would have terminated with the latest error,
this is not entirely the same&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Getting to the same behavior involves a few additional tricks:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; flux =
Flux.&lt;String&gt;error(new IllegalArgumentException())
    .retryWhen(companion -&gt; companion
    .zipWith(Flux.range(1, 4), <b class="conum">(1)</b>
          (error, index) -&gt; { <b class="conum">(2)</b>
            if (index &lt; 4) return index; <b class="conum">(3)</b>
            else throw Exceptions.propagate(error); <b class="conum">(4)</b>
          })
    );</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Trick one: use <code>zip</code> and a <code>range</code> of "number of acceptable retries + 1"&#8230;&#8203;</p>
</li>
<li>
<p>The zip function will allow to count the retries while keeping track of the
original error.</p>
</li>
<li>
<p>To allow for 3 retries, indexes before 4 return a value to emit&#8230;&#8203;</p>
</li>
<li>
<p>&#8230;&#8203;but in order to terminate the sequence in error, we throw the original
exception after these 3 retries.</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
A similar code can be used to implement an <em>exponential backoff and retry</em>
pattern, as shown in the <a href="#faq.exponentialBackoff">FAQ</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_how_are_exceptions_in_operators_or_functions_handled">How are exceptions in operators or functions handled?</h3>
<div class="paragraph">
<p>In general, all operators can themselves contain code that potentially trigger
an exception, or calls a user-defined callback that similarly can fail, so they
all contain some form of error handling.</p>
</div>
<div class="paragraph">
<p>As a rule of thumb, an <strong>Unchecked Exception</strong> will always be propagated through
<code>onError</code>. For instance, throwing a <code>RuntimeException</code> inside a <code>map</code> function
will translate to an <code>onError</code> event:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux.just("foo")
    .map(s -&gt; { throw new IllegalArgumentException(s); })
    .subscribe(v -&gt; System.out.println("GOT VALUE"),
               e -&gt; System.out.println("ERROR: " + e));</code></pre>
</div>
</div>
<div class="paragraph">
<p>This would print out:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ERROR: java.lang.IllegalArgumentException: foo</pre>
</div>
</div>
<div class="paragraph">
<p>Reactor however defines a set of exceptions that are always
deemed <strong>fatal</strong><sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup>
, meaning that Reactor cannot keep operating. These are thrown rather than
propagated.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<strong>Internally</strong> There are also cases where an unchecked exception still
cannot be propagated, most notably during the subscribe and request phases, due
to concurrency races that could lead to double onError/onComplete. When these
races happen, the error that cannot be propagated is "dropped". These cases can
still be managed to some extent, as the error goes through the
<code>Hooks.onErrorDropped</code> customizable hook.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You may wonder, what about <strong>Checked Exceptions</strong>?</p>
</div>
<div class="paragraph">
<p>If, say, you need to call some method that declares it <code>throws</code> exceptions, you
will still have to deal with said exceptions in a <code>try/catch</code> block. You have
several options, though:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>catch the exception and recover from it, the sequence continues normally.</p>
</li>
<li>
<p>catch the exception and wrap it into an <em>unchecked</em> one, then throw it
(interrupting the sequence). The <code>Exceptions</code> utility class can help you
with that (see below).</p>
</li>
<li>
<p>if you&#8217;re expected to return a <code>Flux</code> (eg. you&#8217;re in a <code>flatMap</code>), just wrap
the exception into an erroring flux: <code>return Flux.error(checkedException)</code>.
(the sequence also terminates)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Reactor has an <code>Exceptions</code> utility class that you can use, notably to ensure
that exceptions are wrapped only if they are checked exceptions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>use the <code>Exceptions.propagate</code> method to wrap exceptions if necessary. It will also call
<code>throwIfFatal</code> first, and won&#8217;t wrap <code>RuntimeException</code>.</p>
</li>
<li>
<p>use the <code>Exceptions.unwrap</code> method to get the original unwrapped exception (going back to
the root cause of a hierarchy of reactor-specific exceptions).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let&#8217;s take the example of a <code>map</code> that uses a conversion method that can throw
an <code>IOException</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public String convert(int i) throws IOException {
  if (i &gt; 3) {
    throw new IOException("boom " + i);
  }
  return "OK " + i;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now imagine you want to use that method in a <code>map</code>. You now have to explicitly
catch the exception, and your map function cannot re-throw it. So you can
propagate it to map&#8217;s <code>onError</code> as a <code>RuntimeException</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Flux&lt;String&gt; converted = Flux
    .range(1, 10)
    .map(i -&gt; {
      try { return convert(i); }
      catch (IOException e) { throw Exceptions.propagate(e); }
    });</code></pre>
</div>
</div>
<div class="paragraph">
<p>Later on, when subscribing to the above flux and reacting to errors, eg. in the
UI, you could revert back to the original exception in case you want to do
something special for IOExceptions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">converted.subscribe(
    v -&gt; System.out.println("RECEIVED: " + v),
    e -&gt; {
      if (Exceptions.unwrap(e) instanceof IOException) {
        System.out.println("Something bad happened with I/O");
      } else {
        System.out.println("Something bad happened");
      }
    }
);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_processor">Processor</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Processors are a special kind of <code>Publisher</code> that are also a <code>Subscriber</code>. That
means that you can <code>subscribe</code> to a <code>Processor</code> (generally, they implement
<code>Flux</code>), but also call methods to manually inject data into the sequence or
terminate it&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>There are several kind of Processors, each with a few particular semantics, but
before you start looking into these, you need to ask yourself the following question:</p>
</div>
<div class="sect2">
<h3 id="_do_i_need_a_processor">Do I need a Processor?</h3>
<div class="paragraph">
<p>Most of the time, you should try to avoid using a <code>Processor</code>. They are harder
to use correctly and prone to some corner cases.</p>
</div>
<div class="paragraph">
<p>So if you think a <code>Processor</code> could be a good match for your use-case, ask
yourself if you have tried these two alternatives before:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>could a classic operator or combination of operators fit the bill? (see
<a href="#which-operator">[which-operator]</a>)</p>
</li>
<li>
<p>could a <a href="#producing">generator</a> operator work instead? (generally these
operators are made to bridge APIs that are not reactive, providing a "sink"
that is very similar in concept to a <code>Processor</code> in the sense that it allows
you to populate the sequence with data, or terminate it).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If after exploring the above alternatives you still think you need a <code>Processor</code>,
head to the <a href="#processor">[processor]</a> appendix to learn about the different implementations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_producing_from_multiple_threads">Producing from multiple threads</h3>
<div class="paragraph">
<p><code>FluxProcessor</code> sinks safely gate multi-threaded producers and can be used
by applications that generate data from multiple threads concurrently.
For example, a thread-safe serialized sink can be created for <code>UnicastProcessor</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">UnicastProcessor&lt;Integer&gt; processor = UnicastProcessor.create();
FluxSink&lt;Integer&gt; sink = processor.sink(overflowStrategy);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Multiple producer threads may concurrently generate data on this serialized sink:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">sink.next(n);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Overflow from <code>next</code> will behave in two possible ways depending on the <code>Processor</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an unbounded processor will handle the overflow itself by dropping or buffering</p>
</li>
<li>
<p>a bounded processor will block/spin on <code>IGNORE</code> strategy, or apply the <code>overflowStrategy</code> behavior specified for <code>sink</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. think <code>OutOfMemoryError</code>. Have a look at the <code>Exceptions.throwIfFatal</code> method for details
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-08-18 10:13:28 CDT
</div>
</div>
</body>
</html>